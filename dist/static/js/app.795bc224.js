(function(t){function e(e){for(var a,s,i=e[0],c=e[1],l=e[2],f=0,p=[];f<i.length;f++)s=i[f],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},o=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"024c":function(t,e,n){"use strict";var a=n("7f5c"),r=n.n(a);r.a},"0dc4":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header"),n("el-collapse",t._l(t.plans,(function(t,e){return n("MyCollapse",{key:e,attrs:{planId:e}})})),1)],1)},r=[],o=n("2f62"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticClass:"header"},[n("el-col",{attrs:{span:2}},[n("el-button",{attrs:{type:"warning"},on:{click:t.backToHome}},[n("i",{staticClass:"el-icon-s-home el-icon--left"},[t._v("主页")])])],1),n("el-col",{attrs:{span:20}}),n("el-col",{attrs:{span:2}},[n("el-button",{attrs:{type:"success"},on:{click:t.exportPlans}},[t._v("导出"),n("i",{staticClass:"el-icon-download el-icon--right"})])],1)],1)},i=[],c=n("5f2a"),l=n("b0db"),u=n("6323"),f=n("9587"),p=n("21a6"),h={data:function(){return{}},computed:{...Object(o["b"])("merge",{mergeTimes:"mergeTimes",countries:"countries",bestPlans:"bestPlans"})},methods:{backToHome:function(){this.$router.push("/")},exportPlans:function(){const t=c["a"](l["a"]),e=t=>`h${this.mergeTimes}_${100+t}`;let n=0;const a=t((a,r)=>{const o={},s=e(r);let i=this.countries.slice(n,n+a.length);return t((t,e)=>{const n=i[e],a=n.zone;o[a]||(o[a]={to_zone:s,reward:n.reward,country:[]}),o[a].country[n.country]=t})(a),n+=a.length,o})(this.bestPlans),r=u["a"](f["a"],{})(a),o=new Blob([JSON.stringify(r)],{type:"text/plain;charset=utf-8"});Object(p["saveAs"])(o,"plans.json")}}},d=h,m=(n("8baf"),n("2877")),g=Object(m["a"])(d,s,i,!1,null,null,null),v=g.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse-item",[n("template",{slot:"title"},[n("h2",[t._v(t._s(t.title))])]),n("el-divider"),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:3,offset:2}},[n("el-select",{model:{value:t.planIndex,callback:function(e){t.planIndex=e},expression:"planIndex"}},t._l(t.variances,(function(t,e){return n("el-option",{key:e,attrs:{label:"方案"+(e+1)+" 方差："+t[0],value:e}})})),1)],1),n("el-col",{attrs:{span:3}},[n("div",[n("el-button",{attrs:{type:"primary"},on:{click:t.refresh}},[t._v("重算方差"+t._s(" "+(t.varianceDIY?t.varianceDIY:"")))])],1)]),n("el-col",{attrs:{span:4}},[n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.zoneNum,callback:function(e){t.zoneNum=e},expression:"zoneNum"}},[n("template",{slot:"prepend"},[t._v("自定义区数量：")]),n("el-button",{attrs:{slot:"append",icon:"el-icon-s-promotion"},on:{click:t.handleChange},slot:"append"})],2)],1)],1),t.planIndex>=0?n("el-table",{attrs:{data:t.currntPlan,"header-cell-class-name":"my-header","cell-style":t.setCellStyle,size:"mini",fit:"",border:"",stripe:""}},t._l(t.options,(function(e,a){return n("el-table-column",{key:a,attrs:{label:t.getTableHead(e),prop:e,formatter:t.dataFormat,"header-align":"center",align:"center"},scopedSlots:t._u([3==a?{key:"default",fn:function(e){return[n("el-select",{attrs:{size:"mini"},model:{value:t.currntPlan[e.$index],callback:function(n){t.$set(t.currntPlan,e.$index,n)},expression:"currntPlan[slotProps.$index]"}},t._l(t.countryNames,(function(t,e){return n("el-option",{key:e,attrs:{label:t,value:e}})})),1)]}}:null],null,!0)})})),1):t._e(),t.planIndex>=0?n("el-table",{attrs:{data:t.currntPlanSum,"header-cell-class-name":"my-header","cell-style":t.setCellStyle2,"show-summary":"",size:"mini",fit:"",border:"",stripe:""}},t._l(t.options2,(function(e,a){return n("el-table-column",{key:a,attrs:{label:t.getTableHead(e),prop:e,formatter:t.dataFormat2,"header-align":"center",align:"center"}})})),1):t._e()],2)},b=[],P=n("abb4"),w=n("18f5"),x=n("ef58"),C=n("08a9"),$=n("610b"),_=n("c800"),I=n("d6fa"),k={props:["planId"],data(){return{zoneNum:"",errMsg:"",serverIndex:"",servers:[1,2,3],variance:0,varianceDIY:0,currntPlan:null,planIndex:-1}},created:function(){const t=this.plans[this.planId];Array.isArray(t[0])?(this.startZone=t[1],this.endZone=t[1]+t[2],this.planIndex=0):this.errMsg=t[0].msg},watch:{planIndex:{immediate:!0,handler(t){t>=0&&this.initPlanData(t)}}},methods:{initPlanData:function(t){this.varianceDIY=null;const e=this.variances[t];e&&(this.variance=e[0],this.currntPlan=e[1].concat(),this.$store.dispatch("merge/setBestPlan",[this.planId,e]))},getTableHead(t){return this.config.titles[t]},setCellStyle({column:t,rowIndex:e}){const n=this.countries.slice(3*this.startZone);if(n&&n[e]&&t&&"country"===t.property)return{color:["#409EFF","#67C23A","#F56C6C"][n[e].country]}},setCellStyle2({column:t,rowIndex:e}){if("country"===t.property)return{color:["#409EFF","#67C23A","#F56C6C"][e]}},dataFormat(t,e,n,a,r=!1){const o=r?this.currntPlanSum:this.countries.slice(3*this.startZone),s=o[a];if(!s)return"";let i="";switch(e.property){case"country":i=this.countryNames[s[e.property]];break;case"target":i=this.countryNames[this.currntPlan[a]];break;default:i=s[e.property];break}return i},dataFormat2(){return this.dataFormat(...arguments,!0)},refresh(){const t=this.countries.slice(3*this.startZone,3*this.endZone);this.varianceDIY=Object(I["a"])(this.currntPlan,t),this.$store.dispatch("merge/setBestPlan",[this.planId,[this.varianceDIY,this.currntPlan]])},handleChange(){const t=+this.zoneNum.match(/\d+/)[0];!Number.isInteger(t)||t<2||t>6?this.$message({message:"数据格式错误，要求输入2-6之间的数字",type:"warning"}):3*(this.startZone+t)>this.countries.length?this.$message({message:`区数量不足${t}个`,type:"warning"}):t===this.endZone-this.startZone?this.$message({message:"区数量一致，无需重新计算",type:"warning"}):this.$store.dispatch("merge/changeZoneNum",[this.planId,t])}},computed:{title:function(){if(this.errMsg)return this.errMsg;const t=[this.countries[3*this.startZone]];return t.push(this.countries[3*this.endZone-1]),t.map(t=>t.zone).join(" - ")+" 区"},variances:function(){return this.plans[this.planId][0]},countryNames:function(){return["魏","蜀","吴"]},options:function(){const t=this.config.keys.concat();let e=t.indexOf("activeCoin");return t.splice(e+1,0,"extraCoin"),e=t.indexOf("country"),t.splice(e+1,0,"target"),t},options2:function(){const t=P["a"](["days","target","rankScore","capitalNum","cityNum","top20"],this.options);let e=t.indexOf("country");return t.splice(e+1,0,"countryNum"),e=t.indexOf("extraCoin"),t.splice(e+1,0,"coinSum"),t},...Object(o["b"])("merge",{countries:"countries",plans:"plans",config:"config"}),currntPlanSum:function(){if(!this.currntPlan)return[];const t=P["a"](["coinSum"],this.options2),e=(t,e)=>{return t-e},n=this.countries.slice(3*this.startZone,3*this.endZone);return[0,1,2].map(a=>{const r=n.filter((t,e)=>{return this.currntPlan[e]===a},this),o={};return t.forEach(t=>{o[t]=w["a"](x["a"],l["a"](C["a"](t)))(r)}),o.zone=123,o.country=a,o.countryNum=r.length,o.coinSum=o.activeCoin+o.extraCoin,o.top1=w["a"]($["a"](-1),_["a"](e),l["a"](C["a"]("top1")))(r),o},this)}}},N=k,O=(n("79c1"),Object(m["a"])(N,y,b,!1,null,null,null)),S=O.exports,j={data:function(){return{}},computed:{...Object(o["b"])("merge",{plans:"plans"})},components:{Header:v,MyCollapse:S}},M=j,D=Object(m["a"])(M,a,r,!1,null,null,null);e["a"]=D.exports},"14ac":function(t,e,n){"use strict";e["a"]={Right1:[100,80,50,20,10,0],Right2:100,Right3:40,Right4:80,Right5:60,Right6:50,idealS:500,maxNum:250,numRight:[[110,.6],[120,.7],[130,.75],[140,.8],[150,.9],[160,1],[170,.9],[180,.8],[190,.75],[200,.7],[210,.65],[220,.6],[230,.55],[240,.5]],Cright:{Cright1:100,Cright2:100,Cright3:50,Cright4:100,Cright5:80,Cright6:60,ratio:.5},reward:[{coin:500,item036:5},{coin:200,item036:10}],titles:{zone:"区服",days:"开服天数",country:"国家",capitalNum:"都城数",cityNum:"城池总数",powerfulNum:"活跃高战玩家数",activeNum:"活跃中坚玩家数",rankScore:"排名积分",topPower:"活跃尖端战力",activePowerSum:"活跃总战力",activePay30:"30日充值",activePay:"活跃实际充值",activePayFake:"活跃虚拟充值",activeCoin:"活跃Coin",multiplePower:"综合国力",top20:"Top20",top1:"单将最高战力",target:"目标国家",countryNum:"原国家数",extraCoin:"补偿coin",coinSum:"总coin"},keys:["zone","days","country","capitalNum","cityNum","powerfulNum","activeNum","rankScore","topPower","activePowerSum","activePay30","activePay","activePayFake","activeCoin","multiplePower","top20","top1"]}},"41cb":function(t,e,n){"use strict";(function(t){var a=n("2b0e"),r=n("8c4f"),o=n("84ba"),s=n("86d6"),i=n("0dc4");a["default"].use(r["a"]),e["a"]=new r["a"]({mode:"history",base:t,routes:[{path:"/",component:s["a"]},{path:"/merge",component:i["a"]},{path:"/about",component:o["a"]}]})}).call(this,"/")},"4a24":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);var a=n("2b0e"),r=n("bc3a"),o=n.n(r),s=n("a7fe"),i=n.n(s),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},l=[],u={name:"app"},f=u,p=(n("9993"),n("2877")),h=Object(p["a"])(f,c,l,!1,null,null,null),d=h.exports,m=n("2f62"),g=n("6323"),v=n("b0db"),y=n("14ac"),b=n("b77e");const P={mergeTimes:0,countries:[],items:[],bestPlans:[],config:null,logs:null},w={mergeTimes:t=>t.mergeTimes,countries:t=>t.countries,plans:t=>t.items,bestPlans:t=>t.bestPlans,config:t=>t.config,logs:t=>t.logs};function x(t,e,n){let a=null;if(n){console.log(e,n);const r=t.items[e];a=t.items.slice(0,e);const o=r[1],s=3*o,i=s+3*n,c=Object(b["b"])(t.countries.slice(s,i),o,!0);if(a.push(c),t.countries.length>i){const e=Object(b["b"])(t.countries.slice(i),o+n);a=a.concat(e)}}else a=Object(b["b"])(t.countries);t.items=Object.freeze(a)}const C={setCountries(t,e){t.mergeTimes=0;const n=g["a"]((t,e)=>Math.max(t,e.days),0)(e);t.countries=Object.freeze(v["a"](e=>{const a=t.config.reward[t.mergeTimes],r=n+1e3/a.coin;return e.reward=v["a"](t=>t*(r-e.days))(a),e.extraCoin=e.reward.coin,e})(e)),x(t)},setConfig(t,e){t.config=Object.assign(y["a"],e)},refreshPlans(t,e){x(t,...e)},setBestPlan(t,e){const[n,a]=e;t.bestPlans[n]=a[1]},addLog(t,e){t.logs.push(e)}},$={setCountryData({commit:t},e){t("setCountries",e)},setConfigData({commit:t},e){t("setConfig",e)},changeZoneNum({commit:t},e){t("refreshPlans",e)},setBestPlan({commit:t},e){t("setBestPlan",e)},addLog({commit:t},e){t("addLog",e)}};var _={namespaced:!0,state:P,getters:w,mutations:C,actions:$};function I(t,e){return t.filter(e)[0]}function k(t,e=[]){if(null===t||"object"!==typeof t)return t;const n=I(e,e=>e.original===t);if(n)return n.copy;const a=Array.isArray(t)?[]:{};return e.push({original:t,copy:a}),Object.keys(t).forEach(n=>{a[n]=k(t[n],e)}),a}function N({collapsed:t=!0,filter:e=((t,e,n)=>!0),transformer:n=(t=>t),mutationTransformer:a=(t=>t),logger:r=console}={}){return o=>{let s=k(o.state);o.subscribe((o,i)=>{if("undefined"===typeof r)return;const c=k(i);if(e(o,s,c)){const e=new Date,i=` @ ${S(e.getHours(),2)}:${S(e.getMinutes(),2)}:${S(e.getSeconds(),2)}.${S(e.getMilliseconds(),3)}`,u=a(o),f=`mutation ${o.type}${i}`,p=t?r.groupCollapsed:r.group;try{p.call(r,f)}catch(l){console.log(f)}r.log("%c prev state","color: #9E9E9E; font-weight: bold",n(s)),r.log("%c mutation","color: #03A9F4; font-weight: bold",u),r.log("%c next state","color: #4CAF50; font-weight: bold",n(c));try{r.groupEnd()}catch(l){r.log("—— log end ——")}}s=c})}}function O(t,e){return new Array(e+1).join(t)}function S(t,e){return O("0",e-t.toString().length)+t}a["default"].use(m["a"]);const j=!1;var M=new m["a"].Store({modules:{merge:_},strict:j,plugins:j?[N()]:[]}),D=n("41cb"),E=n("5c96"),z=n.n(E);n("0fae");a["default"].use(z.a),a["default"].use(i.a,o.a),a["default"].config.productionTip=!1,new a["default"]({store:M,router:D["a"],render:function(t){return t(d)}}).$mount("#app")},6860:function(t,e,n){},"79c1":function(t,e,n){"use strict";var a=n("4a24"),r=n.n(a);r.a},"7dad":function(t,e,n){},"7f5c":function(t,e,n){},"84ba":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("About")])])}],o=n("2877"),s={},i=Object(o["a"])(s,a,r,!1,null,null,null);e["a"]=i.exports},"86d6":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.notRequest?n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:9,offset:2}},[n("JsonEditor")],1),n("el-col",{attrs:{span:13}},[n("div",{staticClass:"input"},[n("h1",[t._v("请选择服务器")]),n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[n("el-select",{attrs:{placeholder:"请选择服务器"},model:{value:t.serverIndex,callback:function(e){t.serverIndex=e},expression:"serverIndex"}},t._l(t.serverOptions,(function(t,e){return n("el-option",{key:e,attrs:{label:t.name,value:e}})})),1)],1),n("h2",[t._v("请输入待合区的起始ID和结束ID")]),n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[n("el-form-item",{attrs:{label:"起始ID"}},[n("el-input",{attrs:{placeholder:"Start ID"},model:{value:t.startId,callback:function(e){t.startId=e},expression:"startId"}})],1),n("el-form-item",{attrs:{label:"结束ID"}},[n("el-input",{attrs:{placeholder:"End ID"},model:{value:t.endId,callback:function(e){t.endId=e},expression:"endId"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("提交")])],1)],1)],1)])],1):t._e(),t.notRequest?t._e():n("el-card",t._l(t.logs,(function(e,a){return n("p",{key:a},[t._v(t._s(e))])})),0)],1)},r=[],o=n("2f62"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("配置可编辑")]),n("vue-json-editor",{attrs:{"show-btns":!0,mode:"tree",lang:"zh"},on:{"json-save":t.onJsonSave,"has-error":t.onError},model:{value:t.jsonData,callback:function(e){t.jsonData=e},expression:"jsonData"}})],1)},i=[],c=n("45a3"),l=n("18f5"),u=n("9fdd"),f=n("79b8"),p=n("14ac");const h="merge-tool-config";var d={data(){return{jsonData:null}},created:function(){const t=localStorage.getItem(h),e=t?JSON.parse(localStorage.getItem(h)):p["a"];this.jsonData=l["a"](u["a"],f["a"](["titles","keys"]))(e),this.$store.dispatch("merge/setConfigData",this.jsonData),console.log(this.$store.getters.config)},components:{vueJsonEditor:c["a"]},methods:{onJsonChange(t){console.log("value:",t)},onJsonSave(t){localStorage.setItem(h,JSON.stringify(t)),this.$store.dispatch("merge/setConfigData",t),this.$notify({title:"成功",message:"配置已成功保存至本地",position:"top-left",type:"success",duration:1500})},onError(t){alert("格式错误"),console.log("value:",t)}}},m=d,g=n("2877"),v=Object(g["a"])(m,s,i,!1,null,null,null),y=v.exports,b=n("b77e"),P={components:{JsonEditor:y},data:function(){return{notRequest:!0,serverIndex:1,serverOptions:[{name:"线上简体",value:"http://sg3.ptkill.com",dev:"/sg3"},{name:"奇虎360",value:"http://qh.ptkill.com",dev:"/qh"}],steps:null,startId:"",endId:""}},computed:{...Object(o["b"])("merge",{logs:"logs"})},methods:{onSubmit:function(t){const e=/(h\d+_)?(\d+)$/,n=this.startId.match(e)[1]||"",a=parseInt(this.startId.match(e)[2]),r=parseInt(this.endId.match(e)[2]),o=Array.from({length:r-a+1},(t,e)=>`${n}${a+e}`);this.notRequest=!1;let s=this.serverOptions[this.serverIndex].value;this.axios.post(`${s}/get_zone_country_data/`,JSON.stringify({zones:o})).then(t=>{const e=t.data.map(t=>{const e={};return this.$store.getters["merge/config"].keys.forEach((n,a)=>{e[n]=t[a]}),e.right=Object(b["a"])(e),e});this.$store.dispatch("merge/setCountryData",e),this.$router.push("merge")}).catch(console.error)}}},w=P,x=(n("024c"),Object(g["a"])(w,a,r,!1,null,null,null));e["a"]=x.exports},"8baf":function(t,e,n){"use strict";var a=n("6860"),r=n.n(a);r.a},9993:function(t,e,n){"use strict";var a=n("7dad"),r=n.n(a);r.a},b77e:function(t,e,n){"use strict";n.d(e,"a",(function(){return ft})),n.d(e,"b",(function(){return pt}));var a=n("5f2a"),r=n("b0db"),o=n("08a9"),s=n("0f97"),i=n("6433"),c=n("229d"),l=n("ef58"),u=n("18f5"),f=n("a385"),p=n("bf3b"),h=n("0495"),d=n("2ada"),m=n("8beb"),g=n("6323"),v=n("9fdd"),y=n("28c9"),b=n("0444"),P=n("d6fa"),w=n("14ac");const{Cright1:x,Cright2:C,Cright3:$,Cright4:_,Cright5:I,Cright6:k,ratio:N}=w["a"].Cright,O=w["a"].numRight[0][0],S=w["a"].maxNum,j=0,M=1,D=2,E=3,z=a["a"](r["a"]);let F=null,R=null,T=null,A=0,Z=0,J=0,H=0,q=0,B=0,Y=0,L=0,G=0,K=0,Q=0,U=0;const V=(t,e)=>({status:t,msg:e});function W(t){console.log(t)}function X(t){const e=t.length/3,n=nt(t),a=` (${t[0].zone}区-${t[t.length-1].zone}区) `;return e<2?(U=e,V(j,`区数量不足${a}`)):n<O?V(M,`人数不足: ${n} < ${O}${a}`):n>S?V(D,`人数过多: ${n} > ${S}${a}`):(W(`尝试${a} 共计${e}个区进行合并，当前总人数${n}`),et(t))}function tt(t){const e=[],n=r["a"](o["a"]("country"))(t);return e[n[0]]=0,n[1]!==n[0]?(e[n[1]]=1,e[3-n[0]-n[1]]=2):n[1]!==n[0]?(e[n[2]]=2,e[3-n[0]-n[2]]=1):(e[(n[0]+1)%3]=1,e[(n[0]+2)%3]=2),e}function et(t){const e=s["a"]([i["a"](o["a"]("topPower"))]);R=t;const n=e(t.concat()),a=c["a"](3)(n),g=Array(n.length).fill(-1);tt(a).map(e=>{const a=t.indexOf(n[e]);g[a]=e}),T=r["a"](ft)(t),A=Math.floor(l["a"](T)*N),Z=Math.floor(u["a"](l["a"],r["a"](t=>t.powerfulNum))(R)*N),J=Math.floor(u["a"](l["a"],r["a"](t=>t.activeNum))(R)*N),H=Math.floor(u["a"](l["a"],r["a"](t=>t.topPower))(R)*N),q=Math.floor(u["a"](l["a"],r["a"](t=>t.activePowerSum))(R)*N),B=Math.floor(u["a"](l["a"],r["a"](t=>t.activePay+t.activePayFake))(R)*N),Y=Math.floor(u["a"](l["a"],r["a"](t=>t.powerfulNum))(R)/6),L=Math.floor(u["a"](l["a"],r["a"](t=>t.activeNum))(R)/5),G=Math.floor(u["a"](l["a"],r["a"](t=>t.activePowerSum))(R)/4),K=Math.floor(u["a"](l["a"],r["a"](t=>t.activePay+t.activePayFake))(R)/5);const v=st(g);W(`方案数量：${v.length}`);const y=r["a"](t=>Object(P["a"])(t,R),v),b=f["a"](p["a"](h["a"])(w["a"].idealS),y),x=d["a"](o["a"]("0"),m["a"](y,v));return b?x:(F.push(x),V(E,`所有组合的方差都大于${w["a"].idealS}`))}function nt(t){return g["a"]((t,e)=>{return t+e.powerfulNum+e.activeNum},0,t)}function at(){const t=d["a"](o["a"](0)),e=r["a"](e=>t(e.data[0])[0])(F),n=e.findIndex(n=>n===t(e)[0]);return F[n]}function rt(t){U++;const e=t.slice(0,3*U),n=X(e);return n.status===D||n.status===E&&t.length<3*(U+1)?at():!Array.isArray(n)&&t.length>=3*(U+1)&&(n.status===M||n.status===E)?rt(t):n}function ot(t,e){F=[],U=1;const n=rt(t);return e.push([n,Q,U]),Array.isArray(n)&&(Q+=U,t.splice(0,3*U),t.length)?ot(t,e):e}function st(t){function e(t,e,n){const a=v["a"](n);return a[e]=t,a}let n=[t];for(let a=0,o=t.length;a<o;++a)if(-1===n[0][a]){let t=[];for(let o=0,s=n.length;o<s;++o){const s=r["a"](t=>e(t,a,n[o]))([0,1,2]);t=t.concat(s.filter(it))}n=t}return y["a"](lt)(n)}function it(t){return b["a"](e=>{const n=[];return z((t,a)=>{t===e&&n.push(a)})(t),ct(n)})([0,1,2])}function ct(t){return u["a"](l["a"],r["a"](t=>T[t]))(t)<A&&u["a"](l["a"],r["a"](t=>R[t].powerfulNum))(t)<Z&&u["a"](l["a"],r["a"](t=>R[t].activeNum))(t)<J&&u["a"](l["a"],r["a"](t=>R[t].topPower))(t)<H&&u["a"](l["a"],r["a"](t=>R[t].activePowerSum))(t)<q&&u["a"](l["a"],r["a"](t=>R[t].activePay+R[t].activePayFake))(t)<B}function lt(t){return b["a"](e=>{const n=[];return z((t,a)=>{t===e&&n.push(a)})(t),ut(n)})([0,1,2])}function ut(t){return u["a"](l["a"],r["a"](t=>R[t].powerfulNum))(t)>Y&&u["a"](l["a"],r["a"](t=>R[t].activeNum))(t)>L&&u["a"](l["a"],r["a"](t=>R[t].activePowerSum))(t)>G&&u["a"](l["a"],r["a"](t=>R[t].activePay+R[t].activePayFake))(t)>K}function ft(t){return x*t.topPower+C*t.activePowerSum+$*(t.activePay+t.activePayFake)+_*t.activePay30+I*t.powerfulNum+k*t.activeNum}function pt(t,e,n){return Q=e||0,t=t.concat(),n?[X(t),Q,U]:ot(t,[])}},d6fa:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var a=n("5f2a"),r=n("b0db"),o=n("ef58"),s=n("529a"),i=n("18f5"),c=n("c800"),l=n("6433"),u=n("08a9"),f=n("1157"),p=n("9119"),h=n("50c6"),d=n("14ac");const m=a["a"](r["a"]);function g(t,e){const n=v(t,e),a=y(t,e,d["a"].Right2,["activePowerSum"]),c=y(t,e,d["a"].Right3,["activePay","activePayFake"]),l=y(t,e,d["a"].Right4,["activePay30"]),u=y(t,e,d["a"].Right5,["powerfulNum","activeNum"]),f=y(t,e,d["a"].Right6,["activeCoin"]),p=10*Math.floor(.1*o["a"](u));let h=s["a"](t=>{return p===t[0]})(d["a"].numRight);h=h||d["a"].numRight[d["a"].numRight.length-1],console.log({topPowers:n,activePowers:a,payMoneys:c,payMoneys30:l,playerNums:u,activeCoins:f});const m=b(n,a,c,l,u,f),g=P(m);return console.log(`potentials：${m}`),console.log(`平均潜力值：${g}`),Math.round(i["a"](o["a"],r["a"](t=>Math.pow(t-g,2)))(m)/h[1])}function v(t,e){console.log("getTopPowers");const n=c["a"](l["a"](u["a"]("topPower")))(e);let a=[[],[],[]],s=0;return m((n,r)=>{const o=t[e.indexOf(n)],i=d["a"].Right1[a[o].length];i&&a[o].push(n.topPower*i),s+=n.topPower})(n),a=r["a"](o["a"])(a),console.log("topPower",a,s),r["a"](t=>t/(s/3),a)}function y(t,e,n,a){const s=[0,0,0];return m((e,n)=>{s[t[n]]+=i["a"](o["a"],r["a"](t=>e[t]))(a)},e),console.log(a.join("-"),s),r["a"](t=>t*n/P(s),s)}function b(...t){return r["a"](t=>{return console.log(t),o["a"](t)})(f["a"](t))}function P(t){const e=t=>t.length;return p["a"](h["a"],[o["a"],e])(t)}}});